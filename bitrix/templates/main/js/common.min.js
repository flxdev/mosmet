function scaleVideoContainer(){var e=$(".video-container").height()+5,n=parseInt(e)+"px";$(".homepage-hero-module").css("height",n)}function initBannerVideoSize(e){$(e).each(function(){$(this).data("height",$(this).height()),$(this).data("width",$(this).width())}),scaleBannerVideoSize(e)}function scaleBannerVideoSize(e){var n,t,i=$(".video-container").width(),o=$(".video-container").height()+5;$(e).each(function(){var e=$(this).data("height")/$(this).data("width");$(this).width(i),i<1e3&&(t=o,n=t/e,$(this).css({"margin-top":0,"margin-left":-(n-i)/2+"px"}),$(this).width(n).height(t)),$(".homepage-hero-module .video-container video").addClass("fadeIn animated")})}function stickinit(){setTimeout(function(){$(".js-stick").stick_in_parent({parent:".aside-menu",offset_top:110})},1)}function lazyImage(){function e(e){return new Promise(function(n,t){var i=new Image;i.src=e,i.onload=n,i.onerror=t})}function n(n){var t=n.dataset.src;if(t)return e(t).then(function(){i(n,t)})}function t(e){0===r&&a.disconnect(),e.forEach(function(e){e.intersectionRatio>0&&(r--,a.unobserve(e.target),n(e.target))})}function i(e,n){e.classList.add("js-image-handled"),e.classList.contains("bg")?e.style.backgroundImage="url("+n+")":e.src=n,e.classList.add("fade-in")}var o=document.querySelectorAll(".js-image"),s={rootMargin:"50px 0px",threshold:.01},r=o.length,a=void 0;if("IntersectionObserver"in window){a=new IntersectionObserver(t,s);for(var l=0;l<o.length;l++){if(o[l].classList.contains("js-image-handled"))return;a.observe(o[l])}}else for(var l=0;l<o.length;l++)return n(o[l])}function slidesCount(e){var n=e.parent().find(".slider-counter"),t=n.find(".slider-curr"),i=n.find(".slider-total");e.on("init reInit breakpoint beforeChange",function(e,n,o,s){var r=parseInt(n.slickGetOption("slidesToShow")),a=parseInt(n.slickGetOption("slidesToScroll")),l=parseInt(s),d=parseInt(n.slideCount),c=Math.ceil(d/r),h="init"==e.type||"reInit"==e.type||"breakpoint"==e.type?0:parseInt(l/a);i.text(1==r?d:c),t.text(h+1)})}function validateForms(){var e=$(".js-validate");e.length&&e.each(function(){var e=$(this);e.parent();$.validate({form:e,modules:"logic",borderColorOnError:!0,scrollToTopOnError:!1,onSuccess:function(n){return formResponse(e),resetForm(e),!1}})})}function resetForm(e){e[0].reset(),e.find(".star-item").removeClass("active")}function popUpsInit(){var e=this;e.b={open:$(".js-popup-button")},e.c={popup:$(".js-popup-container"),body:$("body"),header:$(".page__header")},e.f={},e.conf={body_class:"modal_open",active_class:"active",close_selector:".closePopup",initial_class:"popup-initialed",header_class:"is-hidden"};var n;e.f.initModalActions=function(n){$(n).on("click",".modal-container",function(n){$(e.conf.close_selector).is(n.target)||n.stopPropagation()}),n.find(e.conf.close_selector).add(n).off("click.popup").on("click.popup",function(){e.f.closePopup(n)})},e.f.closePopup=function(t){var i=Math.abs(n),o=t.find(".modal-container-content:not(.response)");_response=t.find(".response"),$("html").hasClass("fp-enabled")?!!$("body").hasClass("fp-viewing-0")&&e.c.header.removeClass(e.conf.header_class):e.c.header.removeClass(e.conf.header_class),t.removeClass(e.conf.active_class),e.c.body.removeClass(e.conf.body_class).removeAttr("style"),$(window).scrollTop(i),setTimeout(function(){o.removeAttr("style"),_response.removeClass("visible")},500)},e.f.openPopup=function(t){n=e.c.body.scrollTop(),0===n&&(n=$("html").scrollTop()),setTimeout(function(){t.addClass(e.conf.active_class),e.c.body.addClass(e.conf.body_class).css("top",-n)},10),setTimeout(function(){e.c.header.addClass(e.conf.header_class)},50)},$.each(e.c.popup.not("."+e.conf.initial_class),function(){var n=$(this);e.f.initModalActions(n),n.off("reinit").on("reinit",function(){e.f.initModalActions(n)}),n.addClass(e.conf.initial_class)}),e.b.open.off("click.popup").on("click.popup",function(n){n.preventDefault();var t=$(this),i=e.c.popup.filter('[data-modal="'+t.data("modal")+'"]');return e.f.openPopup(i),!1})}function formResponse(e){if(e.closest(".modal-container-content").length){var n=e.closest(".modal-container-content"),t=n.next(".response");t.length&&n.fadeOut("slow",function(){t.addClass("visible")})}}function isMobile(){return/Android|webOS|iPhone|iPod|BlackBerry|Windows Phone|iemobile/i.test(navigator.userAgent)}function suggest(e){this.el=e,this.options={input:".biginput",sugglist:".js-suggest-list",focus:"focus"},this.keys={ESC:27,TAB:9,RETURN:13,LEFT:37,UP:38,RIGHT:39,DOWN:40},this.counter=1,this.init()}$(window).on("load",function(){stickinit(),lazyImage()}),document.addEventListener("DOMContentLoaded",function(){function e(){var e=$(".biginput");e.each(function(){var e=$(this);parent=e.closest(".suggest-wrapper"),e.on("input",function(){var n=e.val().length;n>=3?parent.addClass("focus"):parent.removeClass("focus")})})}function n(){var e=$(".js-menu"),n=$(".mainmenu"),t="active",i="menu-open";e.add(n).on("click",function(){if(!e.hasClass("anim")){if(e.addClass("anim"),n.toggleClass(t),e.hasClass(t))e.removeClass(t),h.body.add(h.header).removeClass(i),window.__prevScrollTop&&window.scroll(0,window.__prevScrollTop),window.__prevScrollTop=null;else{var o=$(window).scrollTop();window.__prevScrollTop=o,e.addClass(t),document.body.style.top=-o+"px",window.scroll(0,window.__prevScrollTop),setTimeout(function(){h.body.add(h.header).addClass(i)},51)}setTimeout(function(){e.removeClass("anim")},500)}}),$(".mainmenu-inner").click(function(e){e.stopPropagation()})}function t(){var e=$(".header-row-nav"),n=e.find(".dropdown"),t=$(".page__header-drop"),i=$(".page__header-drop-item"),o="is-shown",s="is-shown";n.each(function(){var e=$(this),i=parseInt(e.data("id"));e.on("mouseenter touchstart",function(){t.find("[data-id="+i+"]").length?(e.addClass("active").siblings().removeClass("active"),t.addClass(o),t.find("[data-id="+i+"]").addClass(s).siblings().removeClass(s)):(t.removeClass(o),n.removeClass("active"))})}),n.add(t).on("mouseleave touchstart",function(){setTimeout(function(){1!=$(".page__header-drop:hover").length&&0!=!$(".dropdown:hover").length&&(t.removeClass(o).attr("style",""),i.removeClass(s),n.removeClass("active"))},1)})}function o(){$(".js-indexSlider").each(function(){var e=$(this),n=e.parent();slidesCount(e),e.slick({accessibility:!1,lazyLoad:"ondemand",arrows:!0,dots:!1,fade:!0,touchMove:!1,dragable:!1,infinite:!1,slidesToShow:1,slidesToScroll:1,adaptiveHeight:!0,appendArrows:n.find(".arr-wrap-inner"),prevArrow:h.arnprevcontent,nextArrow:h.arnextcontent})})}function s(){var e=document.querySelectorAll(".js-aside-drop");for(i=0;i<e.length;i++)e[i].addEventListener("click",function(n){if(n.target.classList.contains("aside-nav-link")&&n.target.classList.contains("dropdown")){n.preventDefault();var t=this;if(t.classList.contains("active"))t.classList.remove("active");else{for(i=0;i<e.length;i++)e[i].classList.remove("active");t.classList.add("active")}setTimeout(function(){h.stick.trigger("sticky_kit:recalc")},302)}})}function r(e,n,t){var i=$(e),o=i.closest(n),s=o.find(t);i.each(function(){$(this).on("click",function(){var e=o.find(s);e.hasClass("active")?e.add($(this)).removeClass("active"):(o.siblings().find(s).removeClass("active"),e.add($(this)).addClass("active"))})})}function a(){if($(".js-tabs-wrap").length){var e=$(".js-tabs-wrap");e.each(function(){var n=$(this),t=n.find(".js-tab-trigger"),i=n.find(".tabs-body"),o=i.find(".tabs-cont"),s=n.find(t).filter(".active"),r=s.index();s.length?o.hide().eq(r).show():(o.not(":first").hide(),t.first().addClass("active")),t.on("click",function(n){var i=$(this);if(n.preventDefault(),!i.hasClass("active")){i.addClass("active").siblings().removeClass("active");var s=e.find(t).filter(".active");o.hide().eq($(s).index()).fadeIn()}})})}}function l(){$(".js-otdel").each(function(){var e=$(this),n=e.parent();slidesCount(e),e.slick({accessibility:!1,lazyLoad:"progressive",arrows:!0,dots:!0,touchMove:!1,dragable:!1,infinite:!1,slidesToShow:4,slidesToScroll:4,appendDots:n.find(".dots-wrap"),appendArrows:n.parent().find(".arr-wrap-inner"),prevArrow:h.arnprevcontent,nextArrow:h.arnextcontent,responsive:[{breakpoint:996,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:675,settings:{slidesToShow:2,slidesToScroll:2,lazyLoad:"ondemand"}},{breakpoint:490,settings:{slidesToShow:1,slidesToScroll:1}}]})})}function d(){$(".js-wide").each(function(){var e=$(this),n=e.parent();e.slick({accessibility:!1,lazyLoad:"ondemand",arrows:!0,dots:!1,touchMove:!1,dragable:!1,infinite:!0,slidesToShow:5,slidesToScroll:1,appendDots:n.find(".dots-wrap"),appendArrows:n.parent().find(".arr-wrap-inner"),prevArrow:h.arnprevcontent,nextArrow:h.arnextcontent,responsive:[{breakpoint:1980,settings:{slidesToShow:4}},{breakpoint:996,settings:{slidesToShow:3}},{breakpoint:675,settings:{slidesToShow:2}},{breakpoint:490,settings:{slidesToShow:1}}]})})}function c(){$(".video-container").length&&(isMobile()&&$(".video-container").find(".video-container-inner").remove(),scaleVideoContainer(),initBannerVideoSize(".video-container .poster img"),initBannerVideoSize(".video-container .filter"),initBannerVideoSize(".video-container video"),$(window).on("resize",function(){scaleVideoContainer(),scaleBannerVideoSize(".video-container .poster img"),scaleBannerVideoSize(".video-container .filter"),scaleBannerVideoSize(".video-container video")}))}var h={body:$("body"),header:$(".page__header"),html:$("html"),hidden:"is-hidden",wrpr:$(".wrapper"),stick:$(".js-stick"),arnextcontent:'<button type="button" class="slick-next slick-arrow"><div class="icon"><svg class="icon icon-drop"><use xlink:href="#smallarr" xmlns:xlink="http://www.w3.org/1999/xlink"></use></svg></div></button>',arnprevcontent:'<button type="button" class="slick-prev slick-arrow"><div class="icon"><svg class="icon icon-drop"><use xlink:href="#smallarr" xmlns:xlink="http://www.w3.org/1999/xlink"></use></svg></div></button>'};!function(){function e(){var e=$(document).scrollTop();n(e)}function n(e){e<=100?t.classList.remove(h.hidden):t.classList.add(h.hidden)}var t=document.querySelector(".cd-auto-hide-header");$(window).on("scroll",function(){requestAnimationFrame(e)})}(),e(),n(),t(),o(),s(),r(".js-dropdown",".js-dropdown-parent",".js-dropdown-target"),a(),l(),d(),c();var u=document.querySelectorAll(".js-suggest");suggesinput=new suggest(u)}),window.Promise||(window.Promise=Promise),jQuery.fn.toggleText=function(){var e=this.data("alt-text"),n=this.find("span");e&&(this.data("alt-text",n.text()),n.text(e))};var suburbs=["Aberfeldy Township","Altona","Arthurs Creek","Arthurs Seat","Ashwood","Bacchus Marsh Werribee River","Ballan","Beaconsfield Upper","Beenak","Berwick","Blackburn","Blackburn North","Blue Mountain","Box Hill","Braeside","Braeside Park","Broadmeadows","Brooklyn","Bulla","Bulla North","Bulleen","Bundoora","Burnley","Burwood East","Cambarville","Cardinia","Caulfield","Caulfield North","Cement Creek","Christmas Hills","Clarkefield","Clarkefield","Clayton","Clearwater Aqueduct","Coburg","Coldstream","Collingwood","Craigieburn","Craigieburn East","Cranbourne","Dandenong","Dandenong South","Dandenong West","Darraweit","Deer Park","Devilbend Reservoir","Diggers Rest","Dixons Creek","Doncaster","Doncaster East","Drouin West","Durdidwarrah","Eastern G.C. Doncaster","Elsternwick","Eltham","Emerald","Epping","Essendon","Fairfield","Fawkner","Fiskville","Flemington","Footscray","Frankston North","Frankston Pier","Gardiner","Glen Forbes South","Glen Waverley","Graceburn","Graceburn Creek Aqueduct","Greensborough","Greenvale Reservoir","Groom's Hill","Hampton","Hampton Park","Hawthorn","Headworks","Healesville","Heathmont","Heidelberg","Hurstbridge","Iona","Ivanhoe","Kangaroo Ground","Keilor","Keilor North","Kew","Keysborough","Kinglake","Knox","Konagaderra","Kooweerup","Lake Borrie","Lancefield","Lancefield North","Launching Place","Lilydale Lake","Little River","Loch","Longwarry North","Lower Plenty","Lyndhurst","Lysterfield","Maribyrnong","Maroondah Reservoir","Melton Reservoir","Melton Sth Toolern Creek","Mentone","Mernda","Millgrove","Mitcham","Montrose","Mooroolbark","Mornington","Mount Dandenong","Mount Evelyn","Mount View","Mt Blackwood","Mt Bullengarook","Mt Donna Buang","Mt Evelyn Stringybark Creek","Mt Gregory","Mt Hope","Mt Horsfall","Mt Juliet","Mt Macedon","Mt St Gwinear","Mt St Leonard","Mt Waverley","Myrrhee","Narre Warren North","Nayook","Neerim South","Neerim-Elton Rd","Neerim-Neerim Creek","Neerim-Tarago East Branch","Neerim-Tarago West Branch","North Wharf","Northcote","Notting Hill","Nutfield","O'Shannassy Reservoir","Oakleigh South","Officer","Officer South","Olinda","Pakenham","Pakenham East","Pakenham West","Parwon Parwan Creek","Poley Tower","Preston","Reservoir","Ringwood","Rockbank","Romsey","Rosslynne Reservoir","Rowville","Sandringham","Scoresby","Seaford","Seaford North","Seville East","Silvan","Smiths Gully","Somerton","Southbank","Spotswood","Springvale","St Albans","St Kilda Marina","Sunbury","Sunshine","Surrey Hills","Tarago Reservoir","Tarrawarra","Templestowe","The Basin","Thomson Dam","Tonimbuk","Toolern Vale","Torourrong Reservoir","U/S Goodman Creek Lerderderg River","Upper Lang Lang","Upper Pakenham","Upper Yarra Dam","Wallaby Creek","Wallan","Wantirna South","Warrandyte","Williamstown","Woori Yallock","Woori Yallock Creek","Wyndham Vale","Yallock outflow Cora Lyn","Yannathan","Yarra Glen","Yarra Glen Steels Creek","Yarra Junction","Yarra River downstream Doctors Creek","Yellingbo","Yering"];suggest.prototype={init:function(){this.elements=this.el,this.findelements()},findelements:function(){var e=this,n=this.elements.length;for(i=0;i<n;i++)this.search=this.elements[i].querySelectorAll(this.options.input),this.suggest=this.elements[i].querySelectorAll(this.options.sugglist),this.seggestInner=this.elements[i].querySelectorAll(".suggest-list-inner"),$(this.suggest[0]).slideUp(),this.search[0].addEventListener("input",function(n){e.dosearch(suburbs)}),this.search[0].addEventListener("keydown",function(n){e.doKeypress(this.keys,n)})},dosearch:function(e){var n=this.search[0].value;if(n.length>=3){var t=$.grep(suburbs,function(e){return e.search(RegExp("^"+n,"i"))!=-1});t.length>=1&&(this.removeChildren(),console.log($(this.suggest).length),$(this.suggest[0]).slideDown(),counter=1);for(term in t)$(this.seggestInner).append("<div role='option' tabindex='-1' class='autocomplete-suggestion' id='suggestion-"+counter+"'>"+t[term]+"</div>"),counter+=1}else this.removeChildren(),$(this.suggest[0]).slideUp();this.addClickToItem()},addClickToItem:function(){var e=this;this.seggestInner[0].addEventListener("click",function(n){if(n.target.matches("div")){var t=n.target,i=t.textContent;e.search[0].value=i,e.removeChildren(),$(e.suggest[0]).slideUp()}})},removeChildren:function(){for(;this.seggestInner[0].firstChild;)this.seggestInner[0].removeChild(this.seggestInner[0].firstChild)},doKeypress:function(e,n){var t=this,i=!1;switch(i=$(this.seggestInner[0]).children("div").hasClass("highligt"),n.which){case this.keys.ESC:t.removeChildren(),$(this.suggest[0]).slideUp();break;case this.keys.RIGHT:return t.selectOption(i);case this.keys.TAB:t.removeChildren(),$(this.suggest[0]).slideUp();break;case this.keys.RETURN:if(i)return n.preventDefault(),n.stopPropagation(),t.selectOption(i);case this.keys.UP:return n.preventDefault(),n.stopPropagation(),t.moveUp(i);case this.keys.DOWN:return n.preventDefault(),n.stopPropagation(),t.moveDown(i);default:return}},moveUp:function(e){var n;e?(n=$(this.seggestInner[0]).find(".highligt"),n.removeClass("highligt").prev("div").addClass("highligt"),e=!1):(n=$(this.seggestInner[0]).children().last("div"),n.addClass("highligt"))},moveDown:function(e){var n;e?(n=$(this.seggestInner[0]).find(".highligt"),n.removeClass("highligt").next("div").addClass("highligt"),e=!1):(n=$(this.seggestInner[0]).children().first("div"),n.addClass("highligt"))},selectOption:function(e){var n=this;e&&($(this.search[0]).val($(this.seggestInner[0]).find(".highligt").text()).focus(),n.removeChildren(),$(this.suggest[0]).slideUp())}};
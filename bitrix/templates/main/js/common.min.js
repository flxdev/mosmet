function lazyImage(){function e(e){return new Promise(function(o,n){var t=new Image;t.src=e,t.onload=o,t.onerror=n})}function o(o){var n=o.dataset.src;if(n)return e(n).then(function(){t(o,n)})}function n(e){0===i&&r.disconnect(),e.forEach(function(e){e.intersectionRatio>0&&(i--,r.unobserve(e.target),o(e.target))})}function t(e,o){e.classList.add("js-image-handled"),e.classList.contains("bg")?e.style.backgroundImage="url("+o+")":e.src=o,e.classList.add("fade-in")}var s=document.querySelectorAll(".js-image"),a={rootMargin:"50px 0px",threshold:.01},i=s.length,r=void 0;"IntersectionObserver"in window?(r=new IntersectionObserver(n,a),s.forEach(function(e){e.classList.contains("js-image-handled")||r.observe(e)})):Array.from(s).forEach(function(e){return o(e)})}function slidesCount(e){var o=e.parent().find(".slider-counter"),n=o.find(".slider-curr"),t=o.find(".slider-total");e.on("init reInit breakpoint beforeChange",function(e,o,s,a){var i=parseInt(o.slickGetOption("slidesToShow")),r=parseInt(o.slickGetOption("slidesToScroll")),c=parseInt(a),l=parseInt(o.slideCount),d=Math.ceil(l/i),p="init"==e.type||"reInit"==e.type||"breakpoint"==e.type?0:parseInt(c/r);t.text(1==i?l:d),n.text(p+1)})}function validateForms(){var e=$(".js-validate");e.length&&e.each(function(){var e=$(this);e.parent();$.validate({form:e,modules:"logic",borderColorOnError:!0,scrollToTopOnError:!1,onSuccess:function(o){return formResponse(e),resetForm(e),!1}})})}function resetForm(e){e[0].reset(),e.find(".star-item").removeClass("active")}function popUpsInit(){var e=this;e.b={open:$(".js-popup-button")},e.c={popup:$(".js-popup-container"),body:$("body"),header:$(".page__header")},e.f={},e.conf={body_class:"modal_open",active_class:"active",close_selector:".closePopup",initial_class:"popup-initialed",header_class:"is-hidden"};var o;e.f.initModalActions=function(o){$(o).on("click",".modal-container",function(o){$(e.conf.close_selector).is(o.target)||o.stopPropagation()}),o.find(e.conf.close_selector).add(o).off("click.popup").on("click.popup",function(){e.f.closePopup(o)})},e.f.closePopup=function(n){var t=Math.abs(o),s=n.find(".modal-container-content:not(.response)");_response=n.find(".response"),$("html").hasClass("fp-enabled")?!!$("body").hasClass("fp-viewing-0")&&e.c.header.removeClass(e.conf.header_class):e.c.header.removeClass(e.conf.header_class),n.removeClass(e.conf.active_class),e.c.body.removeClass(e.conf.body_class).removeAttr("style"),$(window).scrollTop(t),setTimeout(function(){s.removeAttr("style"),_response.removeClass("visible")},500)},e.f.openPopup=function(n){o=e.c.body.scrollTop(),0===o&&(o=$("html").scrollTop()),setTimeout(function(){n.addClass(e.conf.active_class),e.c.body.addClass(e.conf.body_class).css("top",-o)},10),setTimeout(function(){e.c.header.addClass(e.conf.header_class)},50)},$.each(e.c.popup.not("."+e.conf.initial_class),function(){var o=$(this);e.f.initModalActions(o),o.off("reinit").on("reinit",function(){e.f.initModalActions(o)}),o.addClass(e.conf.initial_class)}),e.b.open.off("click.popup").on("click.popup",function(o){o.preventDefault();var n=$(this),t=e.c.popup.filter('[data-modal="'+n.data("modal")+'"]');return e.f.openPopup(t),!1})}function formResponse(e){if(e.closest(".modal-container-content").length){var o=e.closest(".modal-container-content"),n=o.next(".response");n.length&&o.fadeOut("slow",function(){n.addClass("visible")})}}function isMobile(){return/Android|webOS|iPhone|iPod|BlackBerry|Windows Phone|iemobile/i.test(navigator.userAgent)}$(window).on("load",function(){}),document.addEventListener("DOMContentLoaded",function(){function e(){var e=$(".js-menu"),o=$(".mainmenu"),n="active",t="menu-open";e.add(o).on("click",function(){if(!e.hasClass("anim")){if(e.addClass("anim"),o.toggleClass(n),e.hasClass(n))e.removeClass(n),s.body.add(s.header).removeClass(t),window.__prevScrollTop&&window.scroll(0,window.__prevScrollTop),window.__prevScrollTop=null;else{var a=$(window).scrollTop();window.__prevScrollTop=a,e.addClass(n),document.body.style.top=-a+"px",window.scroll(0,window.__prevScrollTop),setTimeout(function(){s.body.add(s.header).addClass(t)},51)}setTimeout(function(){e.removeClass("anim")},500)}}),$(".mainmenu-inner").click(function(e){e.stopPropagation()})}function o(){var e=$(".header-row-nav"),o=e.find(".dropdown"),n=$(".page__header-drop"),t=$(".page__header-drop-item"),s="is-shown",a="is-shown";o.each(function(){var e=$(this),t=parseInt(e.data("id"));e.on("mouseenter touchstart",function(){n.find("[data-id="+t+"]").length?(e.addClass("active").siblings().removeClass("active"),n.addClass(s),n.find("[data-id="+t+"]").addClass(a).siblings().removeClass(a)):(n.removeClass(s),o.removeClass("active"))})}),o.add(n).on("mouseleave touchstart",function(){setTimeout(function(){1!=$(".page__header-drop:hover").length&&0!=!$(".dropdown:hover").length&&(n.removeClass(s).attr("style",""),t.removeClass(a),o.removeClass("active"))},1)})}function n(){$(".js-indexSlider").each(function(){var e=$(this),o=e.parent();slidesCount(e),e.slick({accessibility:!1,lazyLoad:"ondemand",arrows:!0,dots:!1,fade:!0,touchMove:!1,dragable:!1,infinite:!1,slidesToShow:1,slidesToScroll:1,adaptiveHeight:!0,appendArrows:o.find(".arr-wrap-inner"),prevArrow:s.arnprevcontent,nextArrow:s.arnextcontent})})}function t(){$(".js-otdel").each(function(){var e=$(this),o=e.parent();e.slick({accessibility:!1,lazyLoad:"ondemand",arrows:!1,dots:!0,touchMove:!1,dragable:!1,infinite:!1,slidesToShow:4,slidesToScroll:4,appendDots:o.find(".dots-wrap")})})}var s={body:$("body"),header:$(".page__header"),html:$("html"),hidden:"is-hidden",wrpr:$(".wrapper"),arnextcontent:'<button type="button" class="slick-next slick-arrow"><div class="icon"><svg class="icon icon-drop"><use xlink:href="#smallarr" xmlns:xlink="http://www.w3.org/1999/xlink"></use></svg></div></button>',arnprevcontent:'<button type="button" class="slick-prev slick-arrow"><div class="icon"><svg class="icon icon-drop"><use xlink:href="#smallarr" xmlns:xlink="http://www.w3.org/1999/xlink"></use></svg></div></button>'};!function(){function e(){var e=$(document).scrollTop();o(e)}function o(e){e<=100?n.classList.remove(s.hidden):n.classList.add(s.hidden)}var n=document.querySelector(".cd-auto-hide-header");$(window).on("scroll",function(){requestAnimationFrame(e)})}(),e(),o(),n(),t(),lazyImage()}),jQuery.fn.toggleText=function(){var e=this.data("alt-text"),o=this.find("span");e&&(this.data("alt-text",o.text()),o.text(e))};